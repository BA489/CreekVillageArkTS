"use strict";var __importDefault=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.stdErrHook=exports.stdOutHook=exports.StdHook=void 0;const node_process_1=__importDefault(require("node:process")),lodash_1=require("lodash");class StdHook{constructor(o,t){this.promise=o,this.unhook=t}}exports.StdHook=StdHook;const hook=(o,t)=>{const{write:e}=o;let r=lodash_1.noop;return new StdHook(new Promise((s=>{r=()=>{o.write=e,s()},o.write=o=>t(String(o))})),r)};function stdOutHook(o){return hook(node_process_1.default.stdout,o)}function stdErrHook(o){return hook(node_process_1.default.stderr,o)}exports.stdOutHook=stdOutHook,exports.stdErrHook=stdErrHook;