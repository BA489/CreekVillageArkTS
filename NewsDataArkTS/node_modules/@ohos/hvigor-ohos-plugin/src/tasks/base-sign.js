"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BaseSign=void 0;const ohos_hap_task_js_1=require("./task/ohos-hap-task.js"),sign_util_js_1=require("./sign/sign-util.js"),file_set_js_1=require("@ohos/hvigor-base/src/internal/snapshot/util/file-set.js"),ohos_logger_js_1=require("../utils/log/ohos-logger.js");class BaseSign extends ohos_hap_task_js_1.OhosHapTask{constructor(i,s,n){super(i,s),this.log=ohos_logger_js_1.OhosLogger.getLogger(BaseSign.name),this.signType=n,this.signUtil=new sign_util_js_1.SignUtil(this.service,this.signType,this.pathInfo,this.targetData.getProduct()),this.signingConfig=this.signUtil._signingConfig}beforeAlwaysAction(){this.log.warn(this.signUtil._signingConfigCheckLogStr)}declareInputs(){var i;const s=new Map;return s.set("signingConfig",JSON.stringify(null===(i=this.signingConfig)||void 0===i?void 0:i.material)).set("sdkToolchainsComponentVersion",this.sdkInfo.getToolchainsComponentVersion()),s}declareInputFiles(){var i,s,n,t,e,o;const g=new file_set_js_1.FileSet;return(null===(s=null===(i=this.signingConfig)||void 0===i?void 0:i.material)||void 0===s?void 0:s.certpath)&&g.addEntry(this.signingConfig.material.certpath,{isDirectory:!1}),(null===(t=null===(n=this.signingConfig)||void 0===n?void 0:n.material)||void 0===t?void 0:t.profile)&&g.addEntry(this.signingConfig.material.profile,{isDirectory:!1}),(null===(o=null===(e=this.signingConfig)||void 0===e?void 0:e.material)||void 0===o?void 0:o.storeFile)&&g.addEntry(this.signingConfig.material.storeFile,{isDirectory:!1}),g}initTaskDepends(){}doTaskAction(i){}}exports.BaseSign=BaseSign;